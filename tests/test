if [ -d build ] ; then
	rm -fr build
fi
cmake -S . -B build -Wno-dev 
cmake --build build
cd build
ctest --output-on-failure
cd ..
if [ ! -d lcoverage ] ; then 
	mkdir lcoverage
fi
rm -fr lcoverage/* 2>/dev/null
#lcov --capture --directory ./ --output-file lcoverage/main_coverage.info
#lcov --remove lcoverage/main_coverage.info 'v1/*' '/Applications/*' '*/tests/*' --output-file lcoverage/main_coverage.info -q
#lcov --list lcoverage/main_coverage.info
gcovr --root ..  --gcov-filter "CPPFImdlp.cpp" --gcov-filter "Metrics.cpp" --txt --sonarqube=coverage.xml   
